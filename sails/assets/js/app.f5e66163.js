(function(e){function t(t){for(var n,r,i=t[0],c=t[1],l=t[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={app:0},o=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3e5b":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{class:e.bgColor})],1)},o=[],r=a("2f62"),i={computed:{...Object(r["e"])(["bgColor"])}},c=i,l=a("2877"),u=Object(l["a"])(c,s,o,!1,null,null,null),d=u.exports,m=a("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container main"},[a("MainNavBar"),a("div",{staticClass:"w3-row-padding w3-center w3-theme-d5 cust-login"},[a("div",{staticClass:"w3-half w3-display-container cust-full-height"},[a("div",{staticClass:"w3-mobile w3-padding w3-display-middle w3-round-xlarge w3-animate-opacity cust-display-text"},[a("h1",[e._v("identity.SN")]),e._m(0),a("br"),a("h3",[e._v("Get Matched Now!")]),a("LoginOAuthButton",{attrs:{signInMethod:"google"}}),a("p",[e._v("or")]),a("LoginOAuthButton",{attrs:{signInMethod:"facebook"}})],1)]),e._m(1)]),a("LoginAboutSection"),a("LoginMissionState"),a("LoginFooter")],1)},p=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"vp-txt"},[e._v(" A social network that helps to facilitate real connections between people with diverse backgrounds by matching users for"),a("br"),a("b",[e._v("one-on-one")]),e._v(" 24-hour chats ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-half w3-hide-small w3-display-right w3-container main-pic-section"},[a("img",{staticClass:"w3-round-xlarge w3-image main-pic",attrs:{src:"https://static-2.gumroad.com/res/gumroad/1211634803146/asset_previews/10d376519ed6e83192a8606b66135312/retina/thumbnail.png",alt:"main-pic-person-holding-phone"}})])}],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"w3-mobile w3-button w3-section w3-round-xlarge w3-center w3-hover-theme loginOAuth-button "+e.bgColor,on:{click:function(t){return e.logIn({signInMethod:e.signInMethod})}}},["google"===e.signInMethod?a("img",{staticClass:"w3-image cust-small-icon-image-dim1",attrs:{src:"http://pngimg.com/uploads/google/google_PNG19635.png"}}):e._e(),"facebook"===e.signInMethod?a("img",{staticClass:"w3-image cust-small-icon-image-dim",attrs:{src:"https://facebookbrand.com/wp-content/uploads/2019/04/f_logo_RGB-Hex-Blue_512.png?w=512&h=512"}}):e._e(),e._v(" "+e._s("Sign In with "+e.signInMethod)+" ")])},w=[],v={name:"LoginOauthButton",props:{signInMethod:String},methods:{...Object(r["b"])(["logIn"])},computed:{...Object(r["e"])(["bgColor"])}},b=v,f=Object(l["a"])(b,g,w,!1,null,null,null),C=f.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{class:"navbar "+e.bgColor},[a("a",{staticClass:"w3-hover-text-theme nav-logo",attrs:{href:"#"}},[e._v("identity.SN")]),a("input",{staticClass:"menu-btn",attrs:{type:"checkbox",id:"menu-btn"}}),e._m(0),a("ul",{class:"nav-items "+e.bgColor},[e._m(1),e._m(2),e._m(3),a("li",[a("router-link",{staticClass:"w3-hover-none w3-hover-text-theme nav-item-li",attrs:{to:{name:"Settings"}}},[e._v("Settings")])],1)])])},_=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"menu-icon",attrs:{for:"menu-btn"}},[a("span",{staticClass:"navicon"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("a",{staticClass:"w3-hover-none w3-hover-text-theme nav-item-li",attrs:{href:"#"}},[e._v("Home")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("a",{staticClass:"w3-hover-none w3-hover-text-theme nav-item-li",attrs:{href:"#about-section"}},[e._v("Features")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("a",{staticClass:"w3-hover-none w3-hover-text-theme nav-item-li",attrs:{href:"#m-statement-section"}},[e._v("About")])])}],x={name:"MainNavBar",computed:{...Object(r["e"])(["bgColor"])}},k=x,I=Object(l["a"])(k,y,_,!1,null,null,null),M=I.exports,O=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},j=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container w3-white about-section-container",attrs:{id:"about-section"}},[a("div",{staticClass:"w3-mobile feature-item"},[a("div",{staticClass:"w3-quarter w3-center"},[a("h2",{attrs:{id:"feature-font"}},[e._v(" Auto - Match "),a("div",{staticClass:"feature-img-container"},[a("img",{staticClass:"w3-image w3-round feature-img",attrs:{src:"https://static-2.gumroad.com/res/gumroad/1211634803146/asset_previews/17afde9c33f0af3eb03bb4698069d08e/retina/drawkit-support-man-colour-thumbnail.png",alt:"person-sitting-at-desk-chatting"}}),a("div",{staticClass:"w3-round-xlarge w3-image overlay"},[a("div",{staticClass:"text w3-text-black"},[e._v(" Match is automatically made for you ")])])]),a("p",{staticClass:"w3-hide-small",attrs:{id:"feature-paragraphs"}},[e._v(" Based on what your interests and identities are, we let the algorithm find you the best match to make it even more diverse and exciting. If you get uncomfortable, you can delete the match and start over ")])])]),a("div",{staticClass:"w3-quarter w3-center"},[a("h2",{attrs:{id:"feature-font"}},[e._v(" Anonymous Chat "),a("div",{staticClass:"feature-img-container"},[a("img",{staticClass:"w3-image w3-round feature-img",attrs:{src:"https://static-2.gumroad.com/res/gumroad/1211634803146/asset_previews/9af3b0e81825adb7e5475199b224c409/retina/unlock-colour-thumbnail.png",alt:"person-holding-a-key"}}),a("div",{staticClass:"w3-round-xlarge overlay"},[a("div",{staticClass:"text w3-text-black"},[e._v(" Your identity remains private ")])])]),a("p",{staticClass:"w3-hide-small",attrs:{id:"feature-paragraphs"}},[e._v(" Shy? We got you! With anonymity, you can share anything or everything about your identities "),a("b",[e._v("worries-free")]),e._v("! We encourage you to break out of your comfort zone and break the ice! ")])])]),a("div",{staticClass:"w3-quarter w3-center"},[a("h2",{attrs:{id:"feature-font"}},[e._v(" 24-Hour Limit "),a("div",{staticClass:"feature-img-container"},[a("img",{staticClass:"w3-image w3-round feature-img",attrs:{src:"https://static-2.gumroad.com/res/gumroad/1211634803146/asset_previews/25c9fe6481563597cf75a0d84cb37f3e/retina/holding-phone-colour-thumbnail.png",alt:"hand-holding-phone"}}),a("div",{staticClass:"w3-round-xlarge overlay"},[a("div",{staticClass:"text w3-text-black"},[e._v(" You have 24 hours per conversation when matched ")])])]),a("p",{staticClass:"w3-hide-small",attrs:{id:"feature-paragraphs"}},[e._v(" We believe in doing one thing at a time because it gives us a chance to reflect. So, we impose a 24-hour limit on each of your conversations for a more wholesome experience ")])])]),a("div",{staticClass:"w3-quarter w3-center"},[a("h2",{attrs:{id:"feature-font"}},[e._v(" Video Chat "),a("div",{staticClass:"w3-image feature-img-container"},[a("img",{staticClass:"w3-image w3-round-xlarge feature-img",attrs:{src:"https://uploads-ssl.webflow.com/5bcb5ee81fb2091a2ec550c7/5e81d56edad44d9253326383_covid19-illustration-example-2.png",alt:"people-video-chatting"}}),a("div",{staticClass:"w3-round-xlarge w3-image overlay"},[a("div",{staticClass:"text w3-text-black"},[e._v(" Video chat available within 24 hours ")])])]),a("p",{staticClass:"w3-hide-small",attrs:{id:"feature-paragraphs"}},[e._v(' Within the 24 hours allocated for your match, both you and your partner can decide to "meet" face-to-face through a video chat to have even realer conversations ')])])])])])}],$={name:"LoginAboutSection"},A=$,T=Object(l["a"])(A,O,j,!1,null,null,null),S=T.exports,B=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container footer-main"},[a("div",{staticClass:"w3-half footer-text-section1"},[a("p",[e._v("Copyright @2020")])]),a("div",{staticClass:"w3-half footer-text-section2"},[a("p",[e._v("Designed by Team Bonnies")])])])}],N={name:"LoginFooter"},P=N,L=Object(l["a"])(P,B,E,!1,null,null,null),R=L.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container w3-mobile w3-theme-d2 m-statement-container",attrs:{id:"m-statement-section"}},[a("div",{staticClass:"w3-container m-state-content-section"},[e._m(0),a("div",{staticClass:"w3-container w3-half w3-mobile m-statement-section"},[a("div",{staticClass:"w3-mobile w3-padding w3-round-xlarge w3-animate-opacity cust-display-text2"},[a("h1",[e._v("For Buffalo and Beyond "),a("font-awesome-icon",{attrs:{icon:"heart"}})],1),a("br"),e._m(1)])])])])},K=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container w3-padding w3-mobile w3-half ms-img-section"},[a("img",{staticClass:"w3-image w3-round-xlarge ms-img",attrs:{src:"https://i.pinimg.com/originals/cc/d7/9c/ccd79c05fbea21187de20a0c70d91d50.jpg"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" The 2010s has withness an explosion and celebration of people's identities. We have seen victories, setbacks, and awareness spread across all diverse groups of people. While these unified us, lack of knowlegde, exposure, and common sense oftentimes separate us."),a("br"),a("br"),e._v(" To better unify people, team Bonnies developed "),a("b",[e._v("identity.SN")]),e._v(" to provide an anoynymous social network platform for people of Buffalo and beyond to have more meaningful conversations about potentially divisive topics and make long-lasting connections. "),a("br"),a("br"),e._v(" With that in mind, we encourage you to have an open mindset and respect for your match. We are committed to "),a("b",[e._v("spread love and not hate")]),e._v(" so hateful or discriminatory behaviors are not tolerated. We hope you enjoy what "),a("b",[e._v("identity.SN")]),e._v(" has to offer! "),a("br"),a("br"),e._v(" With love, Team Bonnies ")])}],W=a("ecee"),F=a("c074"),q=a("ad3d");W["c"].add(F["b"]);var H={name:"LoginMissionState",components:{FontAwesomeIcon:q["a"]}},D=H,G=Object(l["a"])(D,U,K,!1,null,null,null),Y=G.exports,J={name:"Login",components:{LoginOAuthButton:C,MainNavBar:M,LoginAboutSection:S,LoginMissionState:Y,LoginFooter:R},computed:{...Object(r["e"])(["bgColor"])}},V=J,z=Object(l["a"])(V,h,p,!1,null,null,null),Q=z.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container chat-main"},[a("ChatConversationList"),a("ChatTextPane")],1)},X=[],ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container w3-cell w3-theme2 chat-text-pane-main"},[a("div",{staticClass:"w3-container w3-border-bottom w3-mobile chat-text-pane-header"},[a("button",{staticClass:"w3-button w3-hover-none w3-hover-text-theme",attrs:{type:"button"},on:{click:function(t){return e.toggleNav()}}},[a("font-awesome-icon",{attrs:{icon:"bars"}})],1),a("h2",[e._v("Your Match")]),a("input",{staticClass:"meet-face-btn w3-button w3-orange w3-hover-theme w3-round-xlarge w3-margin-left",attrs:{type:"button",value:"Meet Face-to-Face"},on:{click:e.videoChat}}),a("input",{staticClass:"meet-face-btn w3-button w3-blue w3-hover-theme w3-round-xlarge",attrs:{type:"button",value:"Get Icebreaker Question"},on:{click:e.iceBreaker}})]),a("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{smooth:!0},expression:"{ smooth: true }"}],staticClass:"w3-container w3-mobile w3-padding chat-text-msg-section"},e._l(e.currentChat,(function(t){return a("div",{key:t.timestamp,class:"w3-section "+e.sender(t.sender)},[a("div",{class:"w3-round-xlarge bubble "+e.color(t.sender)+" "+e.toneColor(t.tone)},[a("div",{staticClass:"bubble-text"},[a("p",{staticClass:"w3-padding msg-content"},[e._v(" "+e._s(t.message)+" ")])])])])})),0),a("ChatTextPaneInput")],1)},te=[],ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container chat-text-pane-input-section"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.messageText,expression:"messageText"}],staticClass:"w3-input w3-round-xlarge",attrs:{type:"text",placeholder:"Hi, it's nice matching with you! How's it going today?"},domProps:{value:e.messageText},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(e.messageText)},input:function(t){t.target.composing||(e.messageText=t.target.value)}}}),a("button",{staticClass:"w3-button w3-round-xlarge w3-orange w3-hover-theme send-btn",attrs:{value:"Send"},on:{click:function(t){return e.send(e.messageText)}}},[e._v("Send")])])},ne=[],se={name:"ChatTextPaneInput",data:()=>({messageText:""}),watch:{currentContactIndex(){this.messageText=""}},methods:{...Object(r["b"])("chat",["sendMessage"]),send(e){this.sendMessage({messageText:e}),this.messageText=""}},computed:{...Object(r["e"])("chat",["currentContactIndex"])}},oe=se,re=Object(l["a"])(oe,ae,ne,!1,null,null,null),ie=re.exports,ce=a("123d"),le=a.n(ce);W["c"].add(F["a"]),n["a"].use(le.a);var ue={name:"ChatTextPane",components:{ChatTextPaneInput:ie,FontAwesomeIcon:q["a"]},methods:{sender(e){return e?"bubble-sender":"bubble-income"},toneColor(e){return e=e.toLowerCase(),"anger"===e||"disgust"===e||"fear"===e?"w3-bottombar w3-leftbar w3-rightbar w3-topbar w3-border-red":"joy"===e?"w3-bottombar w3-leftbar w3-rightbar w3-topbar w3-border-green":""},color(e){return e?"w3-theme-d4":"w3-theme2-l4"},toggleNav(){this.$parent.$emit("toggleNav")},...Object(r["b"])("chat",["videoChat","iceBreaker"])},computed:{...Object(r["c"])("chat",["currentChat","currentRoom"]),...Object(r["e"])(["token"])}},de=ue,me=Object(l["a"])(de,ee,te,!1,null,null,null),he=me.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-cell w3-border-right w3-theme2 chat-convo-list",class:{active:e.active}},[a("div",{staticClass:"w3-container w3-border-bottom w3-mobile chat-convo-list-header"},[a("h2",[e._v("Chat")]),a("input",{staticClass:"w3-button w3-round-xlarge w3-orange w3-hover-theme new-match-btn",attrs:{type:"button",value:"New Match"},on:{click:function(t){return e.searchForMatch()}}})]),a("div",{staticClass:"chat-cc-section w3-mobile"},e._l(e.contacts,(function(t,n){return a("div",{key:t.chatIndex,staticClass:"w3-padding w3-container w3-border-bottom w3-section chat-contact-cards "},[a("div",{staticClass:"chat-contact-thumbnail-section"},[a("input",{class:"chat-contact-thumbnail-btn w3-circle w3-button "+e.color(n),attrs:{type:"button",value:t.initials},on:{click:function(t){return e.changeCurrentContact({index:n})}}})]),a("div",{staticClass:"last-msg-content w3-padding"},[a("p",[e._v(e._s(t.lastMessage.content))])])])})),0),a("a",{staticClass:"nav-logo3 w3-border-top w3-hover-text-theme",on:{click:function(t){return e.$router.push({path:"/"})}}},[e._v("identity.SN")])])},ge=[],we=a("683f");n["a"].use(we["a"]);var ve={name:"ChatConversationList",data:()=>({alertDisplayed:!1,alertMessage:"",active:!0}),watch:{alertDisplayed(e){e&&setTimeout(()=>{this.alertDisplayed=!1,this.alertMessage=""},1e4)}},methods:{...Object(r["d"])("chat",["changeCurrentContact"]),...Object(r["b"])("chat",["findMatch"]),color(e){return e===this.currentContactIndex?"w3-blue":"w3-light-blue"},searchForMatch(){this.findMatch(),this.alertDisplayed=!0,this.$alert("Your match is being searched for. This can sometimes take a while, but they'll appear as soon as we find them!","Please wait...","success")}},computed:{...Object(r["e"])("chat",{contacts:e=>e.rooms.map(e=>({...e,lastMessage:e.messages.length>0?e.messages[e.messages.length-1]:""})),currentContactIndex:e=>e.currentContactIndex})},mounted(){this.$parent.$on("toggleNav",()=>{this.active=!this.active}),this.$alert("Welcome to your chat room! Please keep an open mind and respect for your match. Please do not use chat to discriminate or disrespect","Before you start...","info")}},be=ve,fe=Object(l["a"])(be,pe,ge,!1,null,null,null),Ce=fe.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" w3-bar w3-cell w3-hide-small user-profile-bar"},[e._v(" profile ")])},_e=[],xe={name:"ChatUserProfile"},ke=xe,Ie=Object(l["a"])(ke,ye,_e,!1,null,null,null),Me=Ie.exports,Oe={name:"Chat",data:()=>({mobileView:!1,showNav:!1}),components:{ChatTextPane:he,ChatConversationList:Ce,LoginFooter:R,ChatUserProfile:Me},created(){this.initChats({userId:this.userId}),this.refreshRooms()},methods:{...Object(r["b"])("chat",["initChats","refreshRooms"])},computed:{...Object(r["e"])(["userId"])}},je=Oe,$e=Object(l["a"])(je,Z,X,!1,null,null,null),Ae=$e.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container w3-theme2 set-up-background"},[a("a",{staticClass:"nav-logo2",on:{click:function(t){return e.$router.push({path:"/"})}}},[e._v("identity.SN")]),!e.loaded||e.fin?a("div",[e._m(0)]):a("div",{staticClass:"w3-container w3-mobile w3-light-gray w3-display-middle w3-shadow w3-border w3-round-xlarge set-up-main"},[0===e.screenCounter?a("AccountSetupScreen",{attrs:{message:"What do you identify with?",elementType:"identities"}}):e._e(),1===e.screenCounter?a("AccountSetupScreen",{attrs:{message:"What are your interests?",elementType:"interests"}}):e._e(),a("div",{staticClass:"w3-bar set-up-nav"},[a("input",{staticClass:"w3-button w3-theme-d4 w3-round-large w3-hover-theme2",attrs:{type:"button",value:"Previous",disabled:0===e.screenCounter},on:{click:function(t){e.screenCounter--}}}),a("input",{class:"w3-button w3-theme-d4 w3-round-large w3-hover-theme2"+(1===e.screenCounter?"w3-theme-d4 w3-hover-theme2":""),attrs:{type:"button",value:1===e.screenCounter?"Lets Chat!":"Next Page"},on:{click:function(t){e.screenCounter++}}})])],1)])},Se=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container w3-center w3-theme-d5 loading"},[a("h1",[e._v("Hold on tight...")]),a("h3",[e._v("Getting ready to create your profile!")])])}],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-container w3-animate-opacity w3-flat-clouds acc-set-up-container"},[a("h2",{staticClass:"w3-margin"},[e._v(e._s(e.message))]),a("div",{staticClass:"w3-row-padding buttons-section"},e._l(e.allColors,(function(t,n){return a("div",{key:t.index,class:"option-buttons w3-col s2 w3-btn w3-round w3-border w3-border-"+t.color+" "+e.circleColor(n,t.color),on:{click:function(t){return e.elementClickHandler(n)}}},[e._v(" "+e._s(t.element)+" ")])})),0)])},Ee=[],Ne={name:"AccountSetupScreen",props:{elementType:String,message:String},data:()=>({colorArray:["red","pink","purple","indigo","blue","aqua","teal","green","lime","khaki","amber","orange","deep-orange","grey","black"]}),methods:{...Object(r["b"])("accountSetup",["addItem","rmItem"]),circleColor(e,t){return Object.keys(this.known).includes(e)?"w3-light-grey":"w3-"+t},elementClickHandler(e){Object.keys(this.known).includes(e)?this.rmItem({item:e,elementType:this.elementType}):this.addItem({item:e,elementType:this.elementType})}},computed:{...Object(r["e"])("accountSetup",{all:function(e){return e[this.elementType+"All"]},known:function(e){return e[this.elementType+"Known"]}}),allColors(){const e={};for(const t in{...this.all,...this.known})e[t]={element:this.all[t],color:this.colorArray[Math.floor(Math.random()*this.colorArray.length)]};return e}}},Pe=Ne,Le=Object(l["a"])(Pe,Be,Ee,!1,null,null,null),Re=Le.exports,Ue={name:"AccountSetup",components:{MainNavBar:M,AccountSetupScreen:Re,LoginFooter:R},data:()=>({screenCounter:0,fin:!1}),created(){this.getUserMetadata({id:this.userId})},watch:{screenCounter(e){e>1&&(this.fin=!0,this.initChats({userId:this.userId}).then(e=>this.findMatch().then(e=>this.$router.push("chat"))))}},methods:{...Object(r["b"])("accountSetup",["getUserMetadata"]),...Object(r["b"])("chat",["initChats","findMatch"])},computed:{...Object(r["e"])(["userId"]),...Object(r["e"])("accountSetup",{loaded:e=>!!e.userId})}},Ke=Ue,We=Object(l["a"])(Ke,Te,Se,!1,null,null,null),Fe=We.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v(" You were Authenticated! Let's get you redirected...")])},He=[],De={name:"Auth",created(){this.$store.commit({type:"setUser",id:this.$route.query.id,token:this.$route.query.token}),this.$route.query.newuser?this.$router.push("/fill-info"):this.$router.push("/chat")}},Ge=De,Ye=Object(l["a"])(Ge,qe,He,!1,null,null,null),Je=Ye.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"w3-container "+e.bgColor},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.darkBgColor,expression:"darkBgColor"}],staticClass:"w3-check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.darkBgColor)?e._i(e.darkBgColor,null)>-1:e.darkBgColor},on:{change:function(t){var a=e.darkBgColor,n=t.target,s=!!n.checked;if(Array.isArray(a)){var o=null,r=e._i(a,o);n.checked?r<0&&(e.darkBgColor=a.concat([o])):r>-1&&(e.darkBgColor=a.slice(0,r).concat(a.slice(r+1)))}else e.darkBgColor=s}}}),a("label",[e._v(" Light Mode ")])])},ze=[],Qe={name:"Settings",computed:{...Object(r["c"])(["darkMode"]),...Object(r["e"])(["bgColor"]),darkBgColor:{get(){return this.darkMode},set(e){this.$store.commit({type:"darkMode",darkMode:e})}}}},Ze=Qe,Xe=Object(l["a"])(Ze,Ve,ze,!1,null,null,null),et=Xe.exports;n["a"].use(m["a"]);const tt=[{path:"/",name:"Login",component:Q},{path:"/fill-info",name:"AccountSetup",component:Fe},{path:"/chat",name:"Chat",component:Ae},{path:"/auth",name:"Auth",component:Je},{path:"/settings",name:"Settings",component:et}],at=new m["a"]({mode:"history",base:"/",routes:tt});var nt=at,st=a("bc3a"),ot=a.n(st);const rt=e=>e.replace(/\./g,"%2e");var it={getIdentitiesAll(e=20,t=0,a=null,n=""){return ot.a.get("api/v1/identity",{params:{n:e,skip:t,...a&&{root:a},...n&&{query:n}}}).then(e=>e.data.reduce((e,{identity:t})=>(e[t]=t,e),{}))},getUser(e,t){const a=`/api/v1/user/${rt(e)}${t?"?interests=true&identities=true":""}`;return console.log(a),ot.a.get(a).then(e=>e.data).then(e=>(console.log(e),t?{interestsKnown:e.interests.reduce((e,{id:t})=>({...e,id:t}),{}),identitiesKnown:e.identities.reduce((e,{id:t})=>({...e,id:t}),{})}:e.displayName))},addUserItem(e,t,a){return ot.a.post(`api/v1/user/${rt(a)}/${t}`,{identity:e})},rmUserItem(e,t,a){return ot.a.delete(`api/v1/user/${rt(a)}/${t}`,{identity:e})},findMatch(e){return ot.a.get(`/api/v1/user/${rt(e)}/match`)},getRoomMessages(e,t){return ot.a.get("api/v1/room/"+e).then(e=>e.data.messages.map(e=>({sender:e.from===t,toId:e.to,fromId:e.from,message:e.message,timestamp:e.createdAt,tone:e.tone})))},async getRooms(e){let t=await ot.a.get(`/api/v1/user/${rt(e)}/room`);return t=await t.data.map(async t=>({...t.users.map(({email:e})=>({id:e,initials:e.substring(0,2).toUpperCase()})).reduce((t,a)=>a.id!==e?a:t),messages:await this.getRoomMessages(t.id,e),roomId:t.id,createdAt:t.createdAt})),Promise.all(t)},sendMessage(e){return ot.a.post("/api/v1/message",{toId:e.toId,fromId:e.fromId,message:e.message}).then(e=>e.data)},iceBreaker(e){return ot.a.get(`api/v1/room/${e}/icebreaker`).then(e=>e.data.icebreaker)}};n["a"].use(r["a"]);var ct=new r["a"].Store({state:{userId:null,token:"",bgColor:"w3-theme2"},getters:{darkMode:e=>"w3-theme2"!==e.bgColor},mutations:{setUser(e,t){e.userId=t.id,e.token=t.token},darkMode(e,t){t.darkMode?e.bgColor="w3-white":e.bgColor="w3-theme2"}},actions:{async logIn({commit:e},t){window.open("api/v1/auth/"+t.signInMethod,"_parent")}},modules:{accountSetup:{namespaced:!0,state:{userId:"",interestsAll:{},interestsKnown:{},identitiesAll:{},identitiesKnown:{}},mutations:{populateUserMetadata(e,t){e.userId=t.userId,e.interestsAll=t.interestsAll,e.interestsKnown=t.interestsKnown,e.identitiesAll=t.identitiesAll,e.identitiesKnown=t.identitiesKnown},elementAdd(e,t){n["a"].set(e[t.elementType+"Known"],t.index,e[t.elementType+"All"][t.index])},elementRemove(e,t){n["a"].delete(e[t.elementType+"Known"],t.index)}},actions:{async getUserMetadata({commit:e},t){console.log(t);const a=await it.getIdentitiesAll(20),{identitiesKnown:n,interestsKnown:s}=await it.getUser(t.id,!0);e({type:"populateUserMetadata",userId:t.id,identitiesAll:a,interestsAll:a,interestsKnown:s,identitiesKnown:n})},addItem({state:e,commit:t},a){const n={identities:"identity",interests:"interest"}[a.elementType];it.addUserItem(a.item,n,e.userId).then(e=>t({type:"elementAdd",elementType:a.elementType,index:a.item}))},rmItem({state:e,commit:t},a){const n={identities:"identity",interests:"interest"}[a.elementType];it.addUserItem(a.item,n.state.userId).then(e=>t({type:"elementRemove",elementType:a.elementType,index:a.item}))}}},chat:{namespaced:!0,state:{userName:"",rooms:[],currentContactIndex:0},getters:{currentRoom:e=>e.rooms.length>0?e.rooms[e.currentContactIndex]:"",currentChat:(e,{currentRoom:t})=>t.messages,currentChatPartnerId:(e,{currentRoom:t})=>t.id},mutations:{addMessage(e,t){n["a"].set(e.rooms[t.index].messages,e.rooms[t.index].messages.length,t.chat)},changeCurrentContact(e,t){e.currentContactIndex=t.index},setUserId(e,t){e.userName=t.userId},addRoom(e,t){n["a"].set(e.rooms,e.rooms.length,t.room)},setRooms(e,t){e.rooms=t.rooms},refreshCurrentRoom(e,t){n["a"].set(e.rooms,t.index,t.room)}},actions:{async initChats({commit:e},t){e({type:"setUserId",userId:t.userId}),e({type:"setRooms",rooms:await it.getRooms(t.userId)})},async sendMessage({state:e,commit:t,getters:a},n){const s={sender:!0,toId:a.currentChatPartnerId,fromId:e.userName,message:n.messageText,timestamp:Date.now()},o=await it.sendMessage(s);t({type:"addMessage",chat:{...s,tone:o},index:e.currentContactIndex})},videoChat(){window.open("https://hangouts.google.com/call/W7JggBBJ23loiAC0qUZkAEEE")},async findMatch({state:e,commit:t,dispatch:a}){await it.findMatch(e.userName),a({type:"initChats",userId:e.userName})},async refreshRooms({state:e,dispatch:t,commit:a}){const n=await it.getRooms(e.userName);a({type:"setRooms",rooms:n}),setTimeout(()=>{t("refreshRooms")},1e3)},async iceBreaker({dispatch:e,getters:t}){const a=await it.iceBreaker(t.currentRoom.roomId);console.log(a),e({type:"sendMessage",messageText:a})}}}}});a("3e5b");n["a"].config.productionTip=!1,new n["a"]({router:nt,store:ct,render:function(e){return e(d)}}).$mount("#app")}});
//# sourceMappingURL=app.f5e66163.js.map